{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_geniai/h5p-index

    Example context (json):
    {
      "types": {
        "contextid": 123,
        "unique": {
          "id": "interactiveBook",
          "title": "Interactive Book",
          "desc": "Create interactive books with H5P.",
          "exe": "https://example.com/h5p/interactiveBook",
          "create": "https://example.com/h5p/create/interactiveBook"
        },
        "h5ps": [
          {
            "id": "coursePresentation",
            "title": "Course Presentation",
            "desc": "Create presentations with H5P.",
            "exe": "https://example.com/h5p/coursePresentation",
            "create": "https://example.com/h5p/create/coursePresentation"
          },
          {
            "id": "interactiveVideo",
            "title": "Interactive Video",
            "desc": "Create interactive videos.",
            "exe": "https://example.com/h5p/interactiveVideo",
            "create": "https://example.com/h5p/create/interactiveVideo"
          }
        ]
      },
      "itens": [
        {
          "id": 1,
          "type": "interactiveBook",
          "title": "Introduction to H5P"
        },
        {
          "id": 2,
          "type": "coursePresentation",
          "title": "Advanced H5P Techniques"
        }
      ],
      "return-url": "https://example.com/h5p/dashboard"
    }

}}

<div class="container">
    <div class="d-flex flex-gap-1">
        <span id="h5p-create-new"
              class="icon-no-margin btn btn-secondary text-nowrap mr-1"
              style="display: none">
        <i class="icon fa fa-add fa-fw"></i>
        {{#str}}h5p-create-new,local_geniai{{/str}}</span>

        <a id="h5p-create-new-link"
           href="{{config.wwwroot}}/local/geniai/h5p/create.php?contextid={{types.contextid}}&type=InteractiveBook"
           class="icon-no-margin btn btn-secondary text-nowrap mr-1">
            <i class="icon fa fa-add fa-fw"></i>
            {{#str}}h5p-create-new,local_geniai{{/str}}
        </a>

        <a href="{{return-url}}"
           class="icon-no-margin btn btn-secondary text-nowrap mr-1">{{#str}}h5p-return,local_geniai{{/str}}</a>
    </div>

    <div class="row h5p-index mt-4">
        {{#itens}}
            <div class="col-xs-2 col-lg-3 col-md-4 col-sm-6 col-12">
                <a class="card h-100 text-center h5p-block"
                   href="edit.php?id={{id}}">
                    {{#pix}}h5p/H5P.{{type}},local_geniai{{/pix}}
                    <div class="card-body">
                        <h6 class="card-title text-center">{{{title}}}</h6>
                    </div>
                </a>
            </div>
        {{/itens}}
    </div>
</div>
